"use strict";(self.webpackChunkstageprojet=self.webpackChunkstageprojet||[]).push([[639],{"./src/components/DataTable/DataTable.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CompactTable:()=>CompactTable,CourseList:()=>CourseList,SortableTable:()=>SortableTable,StudentProgress:()=>StudentProgress,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DataTable_stories});var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DataTable_DataTable=_ref=>{let{columns,data,pageSize=10,sortable=!0,selectable=!1,onRowClick,className=""}=_ref;const[currentPage,setCurrentPage]=(0,react.useState)(1),[sortConfig,setSortConfig]=(0,react.useState)(null),[selectedRows,setSelectedRows]=(0,react.useState)(new Set),sortedData=(0,react.useMemo)((()=>sortConfig?[...data].sort(((a,b)=>a[sortConfig.key]<b[sortConfig.key]?"ascending"===sortConfig.direction?-1:1:a[sortConfig.key]>b[sortConfig.key]?"ascending"===sortConfig.direction?1:-1:0)):data),[data,sortConfig]),paginatedData=(0,react.useMemo)((()=>{const startIndex=(currentPage-1)*pageSize;return sortedData.slice(startIndex,startIndex+pageSize)}),[sortedData,currentPage,pageSize]),totalPages=Math.ceil(data.length/pageSize);return(0,jsx_runtime.jsxs)("div",{className:`data-table-container ${className}`,children:[(0,jsx_runtime.jsx)("div",{className:"table-scroll",children:(0,jsx_runtime.jsxs)("table",{className:"data-table",children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[selectable&&(0,jsx_runtime.jsx)("th",{className:"select-column"}),columns.map((column=>(0,jsx_runtime.jsxs)("th",{onClick:()=>sortable&&!1!==column.sortable&&(key=>{let direction="ascending";sortConfig&&sortConfig.key===key&&"ascending"===sortConfig.direction&&(direction="descending"),setSortConfig({key,direction})})(column.key),className:`\n                    ${sortable&&!1!==column.sortable?"sortable":""}\n                    ${(null==sortConfig?void 0:sortConfig.key)===column.key?`sorted-${sortConfig.direction}`:""}\n                  `,children:[column.header,(null==sortConfig?void 0:sortConfig.key)===column.key&&(0,jsx_runtime.jsx)("span",{className:"sort-icon",children:"ascending"===sortConfig.direction?"↑":"↓"})]},column.key)))]})}),(0,jsx_runtime.jsx)("tbody",{children:paginatedData.map(((row,index)=>(0,jsx_runtime.jsxs)("tr",{onClick:()=>null==onRowClick?void 0:onRowClick(row),className:`\n                  ${onRowClick?"clickable":""}\n                  ${selectedRows.has(row.id)?"selected":""}\n                `,children:[selectable&&(0,jsx_runtime.jsx)("td",{className:"select-cell",children:(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:selectedRows.has(row.id),onChange:e=>((id,event)=>{event.stopPropagation();const newSelected=new Set(selectedRows);newSelected.has(id)?newSelected.delete(id):newSelected.add(id),setSelectedRows(newSelected)})(row.id,e),onClick:e=>e.stopPropagation()})}),columns.map((column=>(0,jsx_runtime.jsx)("td",{children:column.render?column.render(row[column.key],row):row[column.key]},`${row.id}-${column.key}`)))]},row.id||index)))})]})}),totalPages>1&&(0,jsx_runtime.jsxs)("div",{className:"pagination-controls",children:[(0,jsx_runtime.jsx)("button",{onClick:()=>setCurrentPage((prev=>Math.max(prev-1,1))),disabled:1===currentPage,children:"Précédent"}),(0,jsx_runtime.jsxs)("span",{children:["Page ",currentPage," sur ",totalPages]}),(0,jsx_runtime.jsx)("button",{onClick:()=>setCurrentPage((prev=>Math.min(prev+1,totalPages))),disabled:currentPage===totalPages,children:"Suivant"})]})]})},components_DataTable_DataTable=DataTable_DataTable;DataTable_DataTable.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{pageSize:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},sortable:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},selectable:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},className:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},columns:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{key:{name:"string",required:!0},header:{name:"string",required:!0},sortable:{name:"bool",required:!1},render:{name:"func",required:!1}}}},required:!0},data:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!0},onRowClick:{description:"",type:{name:"func"},required:!1}}};var fi=__webpack_require__("./node_modules/react-icons/fi/index.mjs");const DataTable_stories={title:"Components/DataTable",component:components_DataTable_DataTable,parameters:{layout:"centered"}},courses=[{id:1,title:"Introduction à React",instructor:"Jean Dupont",duration:"6h",completed:!0},{id:2,title:"JavaScript Avancé",instructor:"Marie Martin",duration:"8h",completed:!1},{id:3,title:"CSS Moderne",instructor:"Pierre Durand",duration:"4h",completed:!0},{id:4,title:"Node.js Fondamentaux",instructor:"Sophie Lambert",duration:"10h",completed:!1},{id:5,title:"Base de données SQL",instructor:"Thomas Leroy",duration:"7h",completed:!1}],Template=args=>(0,jsx_runtime.jsx)(components_DataTable_DataTable,{...args}),CourseList=Template.bind({});CourseList.args={columns:[{key:"title",header:"Cours",render:value=>(0,jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,jsx_runtime.jsx)(fi.H9b,{})," ",value]})},{key:"instructor",header:"Instructeur"},{key:"duration",header:"Durée",render:value=>(0,jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,jsx_runtime.jsx)(fi.Ohp,{})," ",value]})},{key:"completed",header:"Terminé",render:value=>value?(0,jsx_runtime.jsx)(fi.A3x,{color:"#38a169"}):"En cours"}],data:courses,onRowClick:row=>console.log("Cours sélectionné:",row.title)};const StudentProgress=Template.bind({});StudentProgress.args={columns:[{key:"student",header:"Étudiant"},{key:"progress",header:"Progression",render:value=>(0,jsx_runtime.jsxs)("div",{style:{width:"100%",backgroundColor:"#edf2f7",borderRadius:"4px"},children:[(0,jsx_runtime.jsx)("div",{style:{width:`${value}%`,height:"8px",backgroundColor:"#4a6bdf",borderRadius:"4px"}}),(0,jsx_runtime.jsxs)("span",{style:{fontSize:"0.8rem",marginLeft:"8px"},children:[value,"%"]})]})},{key:"lastAccess",header:"Dernier accès"}],data:[{id:1,student:"Alice Dupont",progress:75,lastAccess:"2023-05-15"},{id:2,student:"Bob Martin",progress:42,lastAccess:"2023-05-10"},{id:3,student:"Charlie Durand",progress:90,lastAccess:"2023-05-18"},{id:4,student:"Diana Lambert",progress:100,lastAccess:"2023-05-20"},{id:5,student:"Eve Leroy",progress:30,lastAccess:"2023-05-05"}],selectable:!0,pageSize:3};const SortableTable=Template.bind({});SortableTable.args={columns:[{key:"title",header:"Cours",sortable:!0},{key:"instructor",header:"Instructeur",sortable:!0},{key:"duration",header:"Durée",sortable:!0}],data:[...courses,{id:6,title:"Algorithmes",instructor:"Paul Bernard",duration:"12h"},{id:7,title:"UI/UX Design",instructor:"Laura Petit",duration:"5h"}],sortable:!0};const CompactTable=Template.bind({});CompactTable.args={columns:[{key:"title",header:"Cours"},{key:"instructor",header:"Instructeur"}],data:courses,pageSize:5,className:"compact-table"};const __namedExportsOrder=["CourseList","StudentProgress","SortableTable","CompactTable"];CourseList.parameters={...CourseList.parameters,docs:{...CourseList.parameters?.docs,source:{originalSource:"args => <DataTable {...args} />",...CourseList.parameters?.docs?.source}}},StudentProgress.parameters={...StudentProgress.parameters,docs:{...StudentProgress.parameters?.docs,source:{originalSource:"args => <DataTable {...args} />",...StudentProgress.parameters?.docs?.source}}},SortableTable.parameters={...SortableTable.parameters,docs:{...SortableTable.parameters?.docs,source:{originalSource:"args => <DataTable {...args} />",...SortableTable.parameters?.docs?.source}}},CompactTable.parameters={...CompactTable.parameters,docs:{...CompactTable.parameters?.docs,source:{originalSource:"args => <DataTable {...args} />",...CompactTable.parameters?.docs?.source}}}}}]);